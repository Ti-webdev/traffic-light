<style type="text/css">
	body {
		background-color: #000;
		padding: 10% 1%;
	}
	#green, #yellow, #red {
		width: 32%;
		height: 90%;
		overflow: hidden;
		display: inline-block;
		border-radius: 100%;
		opacity: .1;
		transition: opacity .3s;
	}
	#green.active, #yellow.active, #red.active {
		opacity: 1;
	}
	#green {
		background-color: green;
	}
	#yellow {
		background-color: yellow;
	}
	#red {
		background-color: red;
	}
</style>

<div id="green" class="active"></div>
<div id="yellow"></div>
<div id="red"></div>

<script>
	var times = [10, 2, 10];
	var colors = ['green', 'yellow', 'red'];
	var time, color;
	function run() {
		time = times.shift();
		times.push(time);
		color = colors.shift();
		colors.push(color);
		setTimeout(changeColor, time * 1000);
	}
	function changeColor() {
		document.getElementById(color).className = '';
		document.getElementById(colors[0]).className = 'active';
		run();
	}
	run();
</script>